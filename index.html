<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥è³€Tom ğŸ¤µ & Jackie ğŸ‘° æ–°å©šå¿«æ¨‚ ç™½é ­å•è€</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght=700&display=swap" rel="stylesheet">
    <style>
        /* CSS V4.9.2 - Kanit å­—é«”æ›´æ–° */
        :root {
            --mcd-red: #C00000;
            --mcd-yellow: #FFC72C;
            --mcd-light-yellow: #FFF8E1;
            --mcd-dark: #333333;
            --mcd-light: #F8F8F8;
            --mcd-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); 
            --mcd-premium-yellow: #FFD700; 
            --mcd-background-img: url('wedding_background.jpg'); 
        }

        body {
            /* é è¨­å­—é«”ä¹ŸåŠ å…¥ Kanit ä½œç‚ºå‚™ç”¨ */
            font-family: 'Helvetica Neue', Arial, sans-serif, 'Kanit', 'sans-serif'; 
            margin: 0;
            padding: 0;
            color: var(--mcd-dark);
            line-height: 1.6;
            
            background-image: var(--mcd-background-img); 
            background-size: cover; 
            background-attachment: fixed; 
            background-position: center center; 
            background-color: #e0e0e0; 
        }

        #banner-container {
            width: 100%;
            height: 300px; 
            overflow: hidden; 
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4); 
        }

        #banner-img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
            display: block;
            object-position: 50% 55%; 
        }

        #greeting {
            background-color: var(--mcd-red);
            color: white;
            padding: 20px 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px; 
        }

        #greeting h1 {
            margin: 0;
            font-size: 2.5em; 
            letter-spacing: 2px;
            /* V4.9.2 ä¿®æ­£ï¼šä½¿ç”¨ Kanit å­—é«” */
            font-family: 'Kanit', sans-serif; 
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
            line-height: 1.3; 
        }

        main {
            display: flex;
            flex-wrap: wrap;
            padding: 0 20px 40px 20px; 
            gap: 25px;
            max-width: 1400px;
            margin: 0 auto;
        }

        section {
            background-color: white; 
            padding: 25px;
            border-radius: 12px;
            box-shadow: var(--mcd-shadow);
            transition: transform 0.3s ease;
            border: 1px solid #ddd; 
        }

        section h2 {
            color: var(--mcd-red);
            border-bottom: 3px solid var(--mcd-yellow);
            padding-bottom: 10px;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        #controls {
            flex-basis: 100%;
            padding: 0; 
            border: none;
            background: linear-gradient(135deg, var(--mcd-yellow) 0%, var(--mcd-premium-yellow) 50%, var(--mcd-yellow) 100%);
            padding: 3px; 
            border-radius: 15px; 
        }

        #controls-content {
            padding: 25px 25px 20px 25px;
            border-radius: 12px;
            background-color: white;
        }

        #menu {
            flex: 1 1 350px;
            min-width: 300px;
            order: 1;
        }

        #order-list {
            flex: 3 1 700px;
            order: 2;
        }

        @media (max-width: 900px) {
            #menu {
                flex-basis: 100%;
                order: 2; 
            }
            #order-list {
                flex-basis: 100%;
                order: 1; 
            }
        }

        .menu-category-title {
            color: var(--mcd-dark);
            margin-top: 20px;
            margin-bottom: 0;
            border-left: 5px solid var(--mcd-red);
            padding: 10px 0 10px 10px;
            font-size: 1.2em;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f7f7f7;
            border-radius: 4px; 
            transition: background-color 0.15s;
        }

        .menu-category-title:hover {
            background-color: var(--mcd-light-yellow);
        }

        .menu-category-title::after {
            content: 'â–¼';
            margin-right: 10px;
            transition: transform 0.2s;
        }

        .menu-category-title.expanded::after {
            transform: rotate(180deg);
        }

        .menu-category-content {
            max-height: 0; 
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            padding: 0 10px;
            border: 1px solid #e0e0e0;
            border-top: none;
            border-radius: 0 0 4px 4px;
        }

        .menu-category-content.expanded {
            overflow-y: auto; 
            max-height: 1000px; 
            padding-bottom: 10px;
        }

        .menu-sub-toggle {
            color: var(--mcd-dark);
            font-size: 1.1em;
            margin: 15px 0 0 0;
            padding: 8px 10px;
            background-color: #e9e9e9;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 4px;
            border-left: 3px solid var(--mcd-yellow);
            font-weight: bold;
        }

        .menu-sub-toggle:hover {
            background-color: #e0e0e0;
        }

        .menu-sub-toggle::after {
            content: 'â–¶';
            font-size: 0.8em;
            transition: transform 0.2s;
        }

        .menu-sub-toggle.expanded::after {
            transform: rotate(90deg);
        }

        .menu-sub-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            padding: 0 10px;
            border-left: 1px solid #e0e0e0;
            margin-bottom: 10px;
        }

        .menu-sub-content.expanded {
            max-height: 1000px; 
        }

        .menu-item {
            padding: 12px 5px;
            margin-bottom: 5px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            background-color: #ffffff;
            transition: background-color 0.15s, transform 0.1s;
        }

        .menu-item:hover {
            background-color: var(--mcd-light-yellow);
            border-color: var(--mcd-yellow);
            transform: translateY(-2px);
        }
        
        /* V4.9.1 ä¿®æ­£ï¼šé»æ“Šæ™‚çš„åé¥‹æ•ˆæœ */
        .menu-item:active {
            transform: translateY(1px); 
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1); 
            background-color: #ffefb8; 
        }

        .menu-item strong {
            display: block;
            font-size: 1.1em;
            margin-bottom: 3px;
        }

        .menu-item strong .item-code {
            color: var(--mcd-red);
            font-size: 0.8em;
            margin-left: 8px;
        }

        .menu-item small {
            color: #777;
            font-size: 0.85em;
        }

        .menu-item small.price-red-bold {
            color: var(--mcd-red);
            font-weight: bold;
        }

        table {
            width: 100%;
            border-collapse: separate; 
            border-spacing: 0;
            margin-top: 10px;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }

        th {
            background-color: var(--mcd-red);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9em;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        button {
            padding: 8px 15px;
            background-color: var(--mcd-yellow);
            color: var(--mcd-dark);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s, transform 0.1s;
        }

        button:hover {
            background-color: #ffb800; 
            transform: translateY(-1px);
        }

        #person-select {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin-right: 15px;
            min-width: 150px;
        }

        .select-group {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        #summary {
            margin-top: 0; 
            padding: 15px 25px; 
            background-color: white; 
            border-radius: 0 0 12px 12px; 
            box-shadow: none; 
            color: var(--mcd-dark);
            font-size: 1.4em;
            text-align: right;
            border-top: 3px solid var(--mcd-yellow); 
        }

        #total-price {
            font-size: 1.1em;
            color: var(--mcd-red);
            margin-left: 10px;
            font-weight: bold;
        }

        footer {
            text-align: center;
            padding: 15px;
            color: #999;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    
    <div id="banner-container">
        <img id="banner-img" src="banner.jpg" alt="Tom & Jackie æ–°å©šå¿«æ¨‚">
    </div>
    
    <div id="greeting">
        <h1>ç¥è³€Tom ğŸ¤µ & Jackie ğŸ‘°<br>æ–°å©šå¿«æ¨‚ ç™½é ­å•è€</h1>
    </div>

    <main>
        <section id="controls">
            <div id="controls-content">
                <h2>ğŸ¯ åˆ†é…è¨‚å–®</h2>
                <div class="select-group">
                    <label for="person-select" style="font-weight: bold;">é¸æ“‡è¨‚é¤äººï¼š</label>
                    <select id="person-select"></select>
                    <button id="add-order-btn" style="margin-left: 15px;">
                        + æ–°å¢è¨‚é¤äºº
                    </button>
                </div>
                <p style="margin-top: 15px; color: #555;">æ­¥é©Ÿï¼š 1. é¸æ“‡è¨‚é¤äºº (æˆ–æ–°å¢) â†’ 2. åœ¨å³é‚Šèœå–®é»é¸é …ç›® â†’ 3. å½ˆå‡ºè¦–çª—å®Œæˆå–®é»/å¥—é¤/å‡ç´šé¸æ“‡ã€‚</p>
            </div>
            
            <div id="summary">
                ç¸½è¨ˆé‡‘é¡ï¼š<span id="total-price">HK$ 0.00</span>
            </div>
        </section>
        
        <section id="menu">
            <h2>èœå–®é¸æ“‡</h2>
            <div id="menu-content">
                </div>
        </section>

        <section id="order-list">
            <h2>ğŸ“‹ é»é¤æ¸…å–®</h2>
            <div id="orders-container">
                </div>
        </section>
        
    </main>

    <footer>
        <p>éº¥ç•¶å‹é»é¤ç³»çµ± V4.9.2 (Kanit å­—é«”æ›´æ–°)</p>
    </footer>

    <script>
        // å›ºå®šäººååˆ—è¡¨ (åˆå§‹çš„ 14 ä½)
        const INITIAL_NAMES = [
            "Jackie", "Tom", "Priscilla", "Ice", "Charyu", "Sophia", 
            "æ›¸ç¿¹", "Chilam", "Momo", "æ˜æš‰", "æ±æ¦®", "å®¶æ¿‚", "å‹‡", 
            "Pata"
        ];
        
        let PERSON_NAMES = [...INITIAL_NAMES];

        const MAX_SET_COST = 5.00; // ä¸»é¤åŠ å¤§è²»ç”¨
        const CORN_PRICE = 15.00; // ç²’ç²’ç²Ÿç±³æ¯æ¨™æº–åƒ¹å€¼ 

        const menuData = {
            'Promotions': [ 
                { name: 'è è˜¿è’œè¾£è›‹é»ƒé†¬è„†çˆ†é›è…¿é£½', type: 'Burger', aLaCarte: 32.50, set: 48.00 }, 
                { name: 'è’œè¾£è›‹é»ƒé†¬è„†çˆ†é›è…¿é£½', type: 'Burger', aLaCarte: 29.50, set: 39.00 },
                { name: 'éº¥ç‚¸é› (åŸå‘³) (1ä»¶)', type: 'Chicken_Side', aLaCarte: 22.50, set: null, code: 'Original_Chicken_1pc' }, 
                { name: 'éº¥ç‚¸é› (åŸå‘³) (2ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 39.50, set: 35.00 },
                { name: 'èœœç³–BBQéº¥ç‚¸é› (1ä»¶)', type: 'Chicken_Side', aLaCarte: 23.50, set: null, code: 'BBQ_Chicken_1pc' }, 
                { name: 'èœœç³–BBQéº¥ç‚¸é› (2ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 41.50, set: 39.00 },
                { name: 'éº¥ç‚¸é›(åŸå‘³)åˆ†äº«æ¡¶(6ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 116.50, set: 136.50 },
                { name: 'èœœç³–BBQéº¥ç‚¸é›åˆ†äº«æ¡¶(6ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 122.50, set: 142.50 },
                { name: 'åŸå‘³åŠèœœç³–BBQéº¥ç‚¸é›åˆ†äº«æ¡¶(ç¸½å…±6ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 122.50, set: 142.50 }
            ],
            'The Signature Collection': [ 
                { name: 'DoubleèŠå£«å®‰æ ¼æ–¯', type: 'Burger', aLaCarte: 48.50, set: 59.50 }, 
                { name: 'è˜‘è‡å®‰æ ¼æ–¯', type: 'Burger', aLaCarte: 40.00, set: 54.00 },     
                { name: 'èŠå£«å®‰æ ¼æ–¯', type: 'Burger', aLaCarte: 35.50, set: 49.00 }      
            ],
            'BURGERS': [
                { name: 'å·¨ç„¡éœ¸Â®', type: 'Burger', aLaCarte: 25.50, set: 47.50 },
                { name: 'é›™å±¤èŠå£«å­–å ¡â„¢', type: 'Burger', aLaCarte: 24.00, set: 44.00 },
                { name: 'è„†è¾£é›è…¿é£½', type: 'Burger', aLaCarte: 26.50, set: 47.00 },
                { name: 'è„†çˆ†é›è…¿é£½', type: 'Burger', aLaCarte: 29.50, set: 39.00 },
                { name: 'æ¿ç‡’é›è…¿é£½', type: 'Burger', aLaCarte: 28.00, set: 47.50 },
                { name: 'èŠå£«æ¼¢å ¡é£½', type: 'Burger', aLaCarte: 17.00, set: null },
                { name: 'æ¼¢å ¡é£½', type: 'Burger', aLaCarte: 15.00, set: null },
                { name: 'éº¥é¦™é›Â®', type: 'Burger', aLaCarte: 15.50, set: null },
                { name: 'é­šæŸ³é£½', type: 'Burger', aLaCarte: 14.00, set: 42.50 }, 
                { name: 'è±¬æŸ³è›‹æ¼¢å ¡', type: 'Muffin', aLaCarte: 22.50, set: 30.00 },
                { name: 'è±¬æŸ³æ¼¢å ¡', type: 'Muffin', aLaCarte: 15.50, set: 40.50 }, 
                { name: 'éº¥èŠè›‹é£½', type: 'Muffin', aLaCarte: 17.00, set: null }
            ],
            'CHICKEN': [ 
                { name: 'éº¥æ¨‚é›Â® (6ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 24.00, set: 29.00 }, 
                { name: 'éº¥æ¨‚é›Â® (9ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 29.00, set: 47.00 }, 
                { name: 'è„†é¦™é›ç¿¼ (2ä»¶)', type: 'Sides', aLaCarte: 15.00, set: null, code: 'Crispy_Wings_2pc' }, 
                { name: 'è„†é¦™é›ç¿¼ (4ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 27.00, set: 47.00 }, 
                { name: 'è„†é¦™é›ç¿¼åˆ†äº«æ¡¶ (16ä»¶)', type: 'Chicken_Set_Main', aLaCarte: 103.00, set: 134.00 } 
            ],
            'SALAD': [
                { name: 'å‡±æ’’æ²™å¾‹', type: 'Salad', aLaCarte: 34.50, set: 47.50 }, 
                { name: 'å‡±æ’’æ²™å¾‹é†¬', type: 'Dessert', aLaCarte: 4.00, set: null, code: 'Caesar_Sauce' },
                { name: 'ç„™ç…èŠéº»é†¬', type: 'Dessert', aLaCarte: 4.00, set: null, code: 'Sesame_Sauce' },
                { name: 'é»‘é†‹èª¿å‘³æ±', type: 'Dessert', aLaCarte: 4.00, set: null, code: 'Balsamic_Sauce' }
            ],
            'SIDES & DESSERTS': [
                { name: 'æœ±å¤åŠ›è‚‰æ¡‚è¿·ä½ è„†æ¢', type: 'Dessert', aLaCarte: 18.00, set: null, code: 'Choc_Cinn_Stick' }, 
                { name: 'è˜‹æœæ‰¹', type: 'Dessert', aLaCarte: 11.00, set: null, code: 'Apple_Pie' }
            ],
            'HAPPY MEALS': [
                 { name: 'é­šæŸ³é£½', type: 'HappyMeal', aLaCarte: null, set: 36.50 },
                 { name: 'éº¥æ¨‚é›Â® (4ä»¶)', type: 'HappyMeal', aLaCarte: null, set: 34.50 },
                 { name: 'èŠå£«æ¼¢å ¡é£½', type: 'HappyMeal', aLaCarte: null, set: 28.50 },
                 { name: 'éº¥èŠè›‹é£½', type: 'HappyMeal', aLaCarte: null, set: 28.50 }
            ],
            'DRINKS': [ 
                // å†·é£² (COLD DRINKS)
                { name: 'å¯å£å¯æ¨‚Â®æ±½æ°´', type: 'Drink', aLaCarte: 17.00, set: null, subCategory: 'COLD DRINKS', code: 'Coke' },
                { name: 'é›ªç¢§Â®æª¸æª¬é’æª¸å‘³æ±½æ°´', type: 'Drink', aLaCarte: 17.00, set: null, subCategory: 'COLD DRINKS', code: 'Sprite' },
                { name: 'èŠ¬é”Â®æ©™å‘³æ±½æ°´', type: 'Drink', aLaCarte: 17.00, set: null, subCategory: 'COLD DRINKS', code: 'Fanta' },
                { name: 'ç„¡ç³–å¯å£å¯æ¨‚Â®', type: 'Drink', aLaCarte: 17.00, set: null, subCategory: 'COLD DRINKS', code: 'Coke0' }, 
                { name: 'å‡æ–°é®®æª¸æª¬èŒ¶', type: 'Drink', aLaCarte: 21.50, set: null, subCategory: 'COLD DRINKS', code: 'C0T' }, 
                { name: 'å‡æ¸¯å¼å¥¶èŒ¶', type: 'Drink', aLaCarte: 21.50, set: null, subCategory: 'COLD DRINKS', code: 'CMT' }, 
                { name: 'ç™½æ¡ƒæ¢³æ‰“', type: 'Drink', aLaCarte: 23.50, set: null, subCategory: 'COLD DRINKS', code: 'Peach' }, 
                { name: 'ç¾ç²’æœÂ®è˜‹æœæ±', type: 'Drink', aLaCarte: 20.00, set: null, subCategory: 'COLD DRINKS', code: 'Apple' },
                { name: 'ç¾ç²’æœÂ®æ©™æ±', type: 'Drink', aLaCarte: 17.00, set: null, subCategory: 'COLD DRINKS', code: 'Orange' }, 
                { name: 'é«˜éˆ£ä½è„‚ç‰›å¥¶é£²å“', type: 'Drink', aLaCarte: 19.00, set: null, subCategory: 'COLD DRINKS', code: 'Milk' },
                { name: 'å£«å¤šå•¤æ¢¨å¥¶æ˜”', type: 'Drink', aLaCarte: 18.00, set: null, subCategory: 'COLD DRINKS', code: 'SMilkS' },
                { name: 'å‘å‘¢æ‹¿å¥¶æ˜”', type: 'Drink', aLaCarte: 18.00, set: null, subCategory: 'COLD DRINKS', code: 'VMilkS' },

                // ç†±é£² (HOT DRINKS)
                { name: 'ç†±æ¸¯å¼å¥¶èŒ¶', type: 'Drink', aLaCarte: 18.50, set: null, subCategory: 'HOT DRINKS', code: 'MT' }, 
                { name: 'ç†±æœ±å¤åŠ›', type: 'Drink', aLaCarte: 18.50, set: null, subCategory: 'HOT DRINKS', code: 'HotC' },
                { name: 'ç†±æ–°é®®æª¸æª¬èŒ¶', type: 'Drink', aLaCarte: 18.50, set: null, subCategory: 'HOT DRINKS', code: '0T' }, 
                { name: 'ç†±æ–°é®®æª¸æª¬æ°´', type: 'Drink', aLaCarte: 18.50, set: null, subCategory: 'HOT DRINKS', code: '0W' }, 
                
                // å’–å•¡ - å†° (ICED COFFEE)
                { name: 'å‡å³ç£¨é»‘å’–å•¡', type: 'Drink', aLaCarte: 19.00, set: null, subCategory: 'ICED COFFEE', code: 'ICB' }, 
                { name: 'å‡å³ç£¨é®®å¥¶å’–å•¡', type: 'Drink', aLaCarte: 19.00, set: null, subCategory: 'ICED COFFEE', code: 'ICL' }, 
                { name: 'åšæ¤°å¥¶éµ', type: 'Drink', aLaCarte: 36.00, set: null, subCategory: 'ICED COFFEE', code: 'ICCT' }, 
                { name: 'å‡å³ç£¨ç™½å’–å•¡', type: 'Drink', aLaCarte: 34.50, set: null, subCategory: 'ICED COFFEE', code: 'ICF' }, 
                
                // å’–å•¡ - ç†± (HOT COFFEE)
                { name: 'ç†±æœ±å¤åŠ›å’–å•¡', type: 'Drink', aLaCarte: 16.00, set: null, subCategory: 'HOT COFFEE', code: 'HC' }, 
                { name: 'å³ç£¨é»‘å’–å•¡', type: 'Drink', aLaCarte: 16.00, set: null, subCategory: 'HOT COFFEE', code: 'HB' }, 
                { name: 'å³ç£¨é®®å¥¶å’–å•¡', type: 'Drink', aLaCarte: 16.00, set: null, subCategory: 'HOT COFFEE', code: 'HL' }, 
                { name: 'æ¤°é¦™é®®å¥¶å’–å•¡', type: 'Drink', aLaCarte: 25.00, set: null, subCategory: 'HOT COFFEE', code: 'HCL' }, 
                { name: 'å³ç£¨ç™½å’–å•¡', type: 'Drink', aLaCarte: 24.50, set: null, subCategory: 'HOT COFFEE', code: 'HF' } 
            ]
        };

        const STANDARD_DRINK_VALUE = 10.00; 
        const STANDARD_SIDE_VALUE = 15.00; // ä¸­è–¯æ¢ M (Fries_M) çš„æ¨™æº–åƒ¹å€¼
        const LARGE_SIDE_VALUE = 20.00; // å¤§è–¯æ¢ L (Fries_L) çš„æ¨™æº–åƒ¹å€¼
        const CORN_PRICE_VALUE = 15.00; // ç²’ç²’ç²Ÿç±³æ¯æ¨™æº–åƒ¹å€¼ 

        const drinkPrices = {}; 
        menuData['DRINKS'].forEach(item => {
             if (item.code) drinkPrices[item.code] = item.aLaCarte;
        });


        const sidePrices = {
            'Fries_M': STANDARD_SIDE_VALUE, 
            'Fries_L': LARGE_SIDE_VALUE, 
            'Corn': CORN_PRICE_VALUE, 
            'Choc_Cinn_Stick': 18.00, 
            'Apple_Pie': 11.00, 
            'Milo_Sundae': 12.50, 
            'Cone': 8.50, 
            'Straw_Sundae': 12.00,
            'Caesar_Sauce': 4.00,
            'Sesame_Sauce': 4.00,
            'Balsamic_Sauce': 4.00,
            'Original_Chicken_1pc': 22.50, 
            'BBQ_Chicken_1pc': 23.50,
            'Crispy_Wings_2pc': 15.00 
        };
        
        const DRINK_CATEGORIES = [
            { name: 'å†·é£² (COLD DRINKS)', items: menuData['DRINKS'].filter(d => d.subCategory === 'COLD DRINKS') },
            { name: 'ç†±é£² (HOT DRINKS)', items: menuData['DRINKS'].filter(d => d.subCategory === 'HOT DRINKS') },
            { name: 'å’–å•¡ - å†° (ICED COFFEE)', items: menuData['DRINKS'].filter(d => d.subCategory === 'ICED COFFEE') },
            { name: 'å’–å•¡ - ç†± (HOT COFFEE)', items: menuData['DRINKS'].filter(d => d.subCategory === 'HOT COFFEE') }
        ];

        const SIDE_CATEGORIES = [
            { name: 'å…¶ä»–é…é¤/ç”œå“', items: [
                { name: 'æœ±å¤åŠ›è‚‰æ¡‚è¿·ä½ è„†æ¢', code: 'Choc_Cinn_Stick', price: 18.00 },
                { name: 'è˜‹æœæ‰¹', code: 'Apple_Pie', price: 11.00 },
                { name: 'æ–°åœ° (Oreo/å£«å¤šå•¤æ¢¨/æœ±å¤åŠ›) - éœ€æ‰‹å‹•èª¿æ•´', code: 'Sundae', price: 12.50 }, 
                { name: 'æ–°åœ°ç­’', code: 'Cone', price: 8.50 },
                { name: 'æ²™å¾‹é†¬/æ± (å‡±æ’’/ç„™ç…èŠéº»/é»‘é†‹)', code: 'Sauce', price: 4.00 }
            ]},
            { name: 'è„†é¦™é›ç¿¼', items: [
                { name: 'è„†é¦™é›ç¿¼ (2ä»¶)', code: 'Crispy_Wings_2pc', price: 15.00 }
            ]},
            { name: 'éº¥ç‚¸é› (å–®ä»¶)', items: [
                 { name: 'éº¥ç‚¸é› (åŸå‘³) (1ä»¶)', code: 'Original_Chicken_1pc', price: 22.50 },
                 { name: 'èœœç³–BBQéº¥ç‚¸é› (1ä»¶)', code: 'BBQ_Chicken_1pc', price: 23.50 }
            ]}
        ];


        let orders = [];

        function createNewOrder(personName) {
            return {
                personName: personName, 
                mainItem: { name: 'æœªé¸æ“‡', price: 0, isSet: false, isMaxSet: false }, 
                sideItem: { name: 'ç„¡', price: 0, code: '' }, 
                drink: { name: 'ç„¡', price: 0, code: '' },   
                extraSides: [] 
            };
        }
        
        // V4.6 æ–°å¢: æ ¹æ“šåç¨±æŸ¥è©¢èœå–®è©³ç´°ä¿¡æ¯
        function getMenuItemDetails(name) {
            for (const category in menuData) {
                const item = menuData[category].find(item => item.name === name);
                if (item) return item;
            }
            return null;
        }

        function initApp() {
            loadOrdersFromStorage();
            
            document.getElementById('add-order-btn').addEventListener('click', addNewPerson);
            
            renderPersonSelect();
            renderMenu();
            renderOrders();
        }

        function renderPersonSelect() {
            const select = document.getElementById('person-select');
            select.innerHTML = '';
            
            orders.forEach((order, index) => {
                const option = document.createElement('option');
                option.value = index; 
                option.textContent = order.personName; 
                select.appendChild(option);
            });
        }
        
        function addNewPerson() {
            const customName = prompt("è«‹è¼¸å…¥æ–°è¨‚é¤äººçš„åå­—ï¼š");
            
            if (customName && customName.trim() !== '') {
                const newName = customName.trim();
                const newOrderIndex = orders.length;
                
                orders.push(createNewOrder(newName));
                
                renderPersonSelect();
                
                document.getElementById('person-select').value = newOrderIndex;
                
                saveOrdersToStorage();
                renderOrders();
            } else if (customName !== null) {
                alert("åå­—ä¸èƒ½ç‚ºç©ºï¼Œæ–°å¢è¨‚é¤äººæ“ä½œå–æ¶ˆã€‚");
            }
        }

        // ä¸»èœå–®æ”¶åˆ/å±•é–‹
        function toggleCategory(titleElement) {
            const contentElement = titleElement.nextElementSibling;
            const isExpanded = contentElement.classList.contains('expanded');
            
            document.querySelectorAll('.menu-category-content.expanded').forEach(openContent => {
                if (openContent !== contentElement) { 
                    openContent.style.maxHeight = openContent.scrollHeight + "px"; 
                    requestAnimationFrame(() => {
                        openContent.style.maxHeight = '0';
                    });
                    openContent.classList.remove('expanded');
                    openContent.previousElementSibling.classList.remove('expanded');
                }
            });

            if (!isExpanded) {
                contentElement.classList.add('expanded');
                titleElement.classList.add('expanded');
                contentElement.style.maxHeight = contentElement.scrollHeight + "px";
            } else {
                contentElement.style.maxHeight = contentElement.scrollHeight + "px";
                requestAnimationFrame(() => {
                    contentElement.style.maxHeight = '0';
                });
                contentElement.classList.remove('expanded');
                titleElement.classList.remove('expanded');
            }
        }
        
        // å­èœå–®æ”¶åˆ/å±•é–‹
        function toggleSubCategory(titleElement) {
            const contentElement = titleElement.nextElementSibling;
            const isExpanded = contentElement.classList.contains('expanded');
            
            if (!isExpanded) {
                contentElement.classList.add('expanded');
                titleElement.classList.add('expanded');
                contentElement.style.maxHeight = contentElement.scrollHeight + "px";
            } else {
                contentElement.style.maxHeight = contentElement.scrollHeight + "px";
                requestAnimationFrame(() => {
                    contentElement.style.maxHeight = '0';
                });
                contentElement.classList.remove('expanded');
                titleElement.classList.remove('expanded');
            }

            let parentContent = titleElement.closest('.menu-category-content');
            if (parentContent) {
                parentContent.style.maxHeight = parentContent.scrollHeight + "px";
            }
        }
        
        function renderMenu() {
            const menuContentDiv = document.getElementById('menu-content');
            let html = '';
            
            for (const category in menuData) {
                let displayCategory = category.replace(/_/g, ' ');
                
                if (menuData[category].length === 0) continue; 
                
                html += `<div class="menu-category-container">`;
                html += `<div class="menu-category-title" onclick="toggleCategory(this)">${displayCategory.toUpperCase()}</div>`;
                html += `<div class="menu-category-content">`;
                
                if (category === 'DRINKS') {
                    
                    const drinksMap = menuData[category].reduce((acc, item) => {
                        if (!acc[item.subCategory]) acc[item.subCategory] = [];
                        acc[item.subCategory].push(item);
                        return acc;
                    }, {});

                    for (const subCat in drinksMap) {
                        const displayName = subCat.toUpperCase().replace('COFFEE', 'å’–å•¡');
                        
                        html += `<div class="menu-sub-toggle" onclick="toggleSubCategory(this)">${displayName}</div>`;
                        html += `<div class="menu-sub-content">`;
                        
                        drinksMap[subCat].forEach(item => {
                            let itemHtml = `<strong>${item.name}</strong>`;

                            if (item.aLaCarte !== null) {
                                itemHtml += `<small class="price-red-bold">å–®é»: HK$${item.aLaCarte.toFixed(2)}</small>`; 
                            }
                            
                            html += `
                                <div class="menu-item single-only" 
                                    onclick="showSelectionModal('${item.name}', ${item.aLaCarte}, ${item.set}, '${item.type}', '${item.code || ''}')">
                                    ${itemHtml}
                                </div>
                            `;
                        });
                        
                        html += `</div>`; 
                    }

                } else {
                    
                    menuData[category].forEach(item => {
                        const isMainItemCategory = (item.type === 'Burger' || item.type === 'Chicken_Set_Main' || item.type === 'Salad' || item.type === 'Muffin');
                        const isSetAvailable = item.set !== null && item.set !== 'null';
                        
                        const isPriceRedCategory = (item.type === 'Burger' || item.type === 'Chicken_Set_Main' || item.type === 'Salad' || item.type === 'Muffin' || item.type === 'Sides' || item.type === 'Dessert' || item.type === 'HappyMeal' || item.type === 'Chicken_Side' || item.type === 'Side_Alternative'); 
                        
                        const priceClass = isPriceRedCategory ? 'price-red-bold' : '';
                        
                        let priceDisplay = '';
                        if (item.aLaCarte !== null) {
                            priceDisplay += `å–®é»: HK$${item.aLaCarte.toFixed(2)}`;
                        }
                        
                        if (isMainItemCategory && isSetAvailable) {
                            if (priceDisplay !== '') priceDisplay += ' | ';
                            priceDisplay += `å¥—é¤: HK$${item.set.toFixed(2)} (åŠ å¤§: HK$${(item.set + MAX_SET_COST).toFixed(2)})`;
                        } else if (item.set !== null) {
                            if (priceDisplay !== '') priceDisplay += ' | ';
                            priceDisplay += `å¥—é¤: HK$${item.set.toFixed(2)}`;
                        }

                        let itemHtml = `<strong>${item.name}</strong>`;
                        
                        if (priceDisplay !== '') {
                             itemHtml += `<small class="${priceClass}">${priceDisplay}</small>`;
                        } else if (item.set === null && item.aLaCarte === null) {
                             itemHtml += `<small>N/A</small>`;
                        }
                        
                        html += `
                            <div class="menu-item" 
                                onclick="showSelectionModal('${item.name}', ${item.aLaCarte}, ${item.set}, '${item.type}', '${item.code || ''}')">
                                ${itemHtml}
                            </div>
                        `;
                    });
                }
                
                html += `</div></div>`; 
            }

            menuContentDiv.innerHTML = html;
        }

        function renderOrders() {
            const container = document.getElementById('orders-container');
            let html = '<table><tr><th>#</th><th>Name</th><th>ä¸»é¤(å¥—é¤/å–®é»/åŠ å¤§)</th><th>é…é¤ (å‡ç´š/åŠ è³¼)</th><th>é£²å“ (å‡ç´š/åŠ è³¼)</th><th>Total</th><th>æ“ä½œ</th></tr>';

            orders.forEach((order, index) => {
                
                let extraSidesTotal = order.extraSides.reduce((sum, item) => sum + item.price, 0);
                const total = order.mainItem.price + order.sideItem.price + order.drink.price + extraSidesTotal;
                
                const personName = order.personName || 'æœªçŸ¥'; 
                
                let mainType = order.mainItem.isMaxSet ? 'MaxSet' : 
                                 (order.mainItem.isSet ? 'Set' : 
                                 (order.mainItem.name === 'æœªé¸æ“‡' ? '' : 'A'));
                
                let mainItemName = order.mainItem.name;
                let drinkItemName = order.drink.name;
                let drinkItemPrice = order.drink.price;
                
                // --- æ¸²æŸ“ é…é¤ (sideItem + extraSides) ---
                
                let sideItemDisplay = '';
                let sideItemPriceDisplay = 0.00; 
                
                const isMainOrderEmpty = (order.mainItem.name === 'æœªé¸æ“‡' || order.mainItem.name === 'ç„¡');
                
                // æª¢æŸ¥æ˜¯å¦æœ‰å¥—é¤ä¸»é…é¤
                if (order.mainItem.isSet || order.mainItem.isMaxSet) {
                    
                    if (order.sideItem.name !== 'ç„¡') {
                        sideItemDisplay += order.sideItem.name;
                        sideItemPriceDisplay += order.sideItem.price; 
                    }
                } 
                
                // æª¢æŸ¥æ˜¯å¦æœ‰é¡å¤–åŠ è³¼
                if (order.extraSides.length > 0) {
                    const extraNames = order.extraSides.map(item => item.name).join(' + ');
                    extraSidesTotal = order.extraSides.reduce((sum, item) => sum + item.price, 0);
                    
                    if (sideItemDisplay !== '') {
                        sideItemDisplay += ' + ';
                    } 
                    sideItemDisplay += extraNames;
                    sideItemPriceDisplay += extraSidesTotal;
                }

                if (isMainOrderEmpty) {
                    if (sideItemDisplay !== '') {
                        sideItemDisplay = `${sideItemDisplay} <span style="color: var(--mcd-red); font-weight: bold;">(HK$ ${sideItemPriceDisplay.toFixed(2)})</span>`;
                    } else {
                        sideItemDisplay = `ç„¡ <span style="color: #666; font-weight: bold;">(0.00)</span>`;
                    }
                } else if (order.mainItem.isSet || order.mainItem.isMaxSet) {
                    
                    if (sideItemDisplay !== '') {
                        const isFree = order.sideItem.price === 0 && order.extraSides.length === 0;
                        const prefix = (sideItemPriceDisplay > 0) ? '+' : '';
                        
                        sideItemDisplay = `${sideItemDisplay} <span style="color: ${sideItemPriceDisplay !== 0 ? 'var(--mcd-red)' : '#666'}; font-weight: bold;">(${isFree ? 'å…è²»' : prefix + sideItemPriceDisplay.toFixed(2)})</span>`;
                    } else {
                        sideItemDisplay = `ç„¡ <span style="color: #666; font-weight: bold;">(0.00)</span>`;
                    }
                } else {
                    
                    if (sideItemDisplay !== '') {
                        sideItemDisplay = `${sideItemDisplay} <span style="color: var(--mcd-red); font-weight: bold;">(HK$ ${sideItemPriceDisplay.toFixed(2)})</span>`;
                    } else {
                        sideItemDisplay = `ç„¡ <span style="color: #666; font-weight: bold;">(0.00)</span>`;
                    }
                }
                
                // --- æ¸²æŸ“ é£²å“ (drinkItem) ---
                
                let drinkItemDisplay;
                
                if (isMainOrderEmpty) {
                    if (drinkItemPrice > 0) {
                        drinkItemDisplay = `
                            ${drinkItemName} 
                            <span style="color: var(--mcd-red); font-weight: bold;">
                                (HK$ ${drinkItemPrice.toFixed(2)})
                            </span>
                        `;
                    } else {
                        drinkItemDisplay = `ç„¡ <span style="color: #666; font-weight: bold;">(0.00)</span>`;
                    }
                } else if (order.mainItem.isSet || order.mainItem.isMaxSet) {
                    
                    const prefix = (drinkItemPrice > 0) ? '+' : '';
                     drinkItemDisplay = `
                        ${drinkItemName} 
                        <span style="color: ${drinkItemPrice !== 0 ? 'var(--mcd-red)' : '#666'}; font-weight: bold;">
                            (${drinkItemPrice === 0 && drinkItemName !== 'ç„¡' ? 'å…è²»' : (drinkItemName === 'ç„¡' ? 'ç„¡' : prefix + drinkItemPrice.toFixed(2))})
                        </span>
                    `;
                } else {
                    
                    if (drinkItemPrice > 0) {
                         drinkItemDisplay = `
                            ${drinkItemName} 
                            <span style="color: var(--mcd-red); font-weight: bold;">
                                (HK$ ${drinkItemPrice.toFixed(2)})
                            </span>
                        `;
                    } else {
                        drinkItemDisplay = `ç„¡ <span style="color: #666; font-weight: bold;">(0.00)</span>`;
                    }
                }
                
                // V4.6 åˆ¤æ–·æ˜¯å¦é¡¯ç¤º 'è½‰å–®é»' æŒ‰éˆ•
                let switchButton = '';
                if ((order.mainItem.isSet || order.mainItem.isMaxSet) && order.mainItem.name !== 'æœªé¸æ“‡') {
                    const details = getMenuItemDetails(order.mainItem.name.replace('Happy Meal: ', '')); // è™•ç† Happy Meal çš„åç¨±
                    if (details && details.aLaCarte !== null) {
                        switchButton = `<button onclick="switchToALaCarte(${index})" style="background-color: #007bff; color: white; margin-left: 5px;">è½‰å–®é»</button>`;
                    }
                }


                html += `
                    <tr id="row-${index}">
                        <td>${index + 1}</td>
                        <td style="font-weight: bold;">${personName}</td>
                        <td>${mainItemName} <span style="font-weight: bold;">(${mainType})</span></td>
                        <td>${sideItemDisplay}</td>
                        <td>${drinkItemDisplay}</td>
                        <td class="subtotal" style="font-weight: bold;">HK$ ${total.toFixed(2)}</td>
                        <td>
                            <button onclick="clearOrder(${index})">æ¸…ç©º</button>
                            ${switchButton}
                            ${index >= INITIAL_NAMES.length ? `<button onclick="deleteOrder(${index})" style="background-color: #f44336; color: white; margin-left: 5px;">åˆªé™¤</button>` : ''}
                        </td>
                    </tr>
                `;
            });
            html += '</table>';
            container.innerHTML = html;
            calculateTotal();
            saveOrdersToStorage(); 
        }

        function showSelectionModal(name, aLaCartePrice, setPrice, itemType, itemCode) {
            const personSelect = document.getElementById('person-select');
            const index = parseInt(personSelect.value); 
            
            if (isNaN(index) || index < 0 || index >= orders.length) return alert("è«‹å…ˆé¸æ“‡è¦é»é¤çš„ç”¨æˆ¶ã€‚");
            
            const currentOrder = orders[index];
            const personName = currentOrder.personName || 'æœªçŸ¥';

            const isSetAvailable = setPrice !== null && setPrice !== 'null';
            const isMainItemCategory = (itemType === 'Burger' || itemType === 'Chicken_Set_Main' || itemType === 'Salad' || itemType === 'Muffin');
            
            // --- è™•ç†éä¸»é¤é …ç›® (å–®é»é…é¤ã€ç”œå“ã€é£²å“) ---
            if (!isMainItemCategory && itemType !== 'HappyMeal') {
                if (aLaCartePrice === null) return alert("æ­¤é …ç›®åƒ¹æ ¼è³‡æ–™ä¸å®Œæ•´ï¼Œç„¡æ³•é»é¤ã€‚");

                let confirmMessage = `æ‚¨é¸æ“‡äº† ${name} (HK$${aLaCartePrice.toFixed(2)})ï¼Œç‚ºã€${personName}ã€‘é»é¤ã€‚`;
                
                if (itemType === 'Drink') {
                    confirmMessage += `\n\n[ç¢ºå®š/OK]ï¼šå°‡å…¶è¨­ç‚ºã€å–®é»é£²å“/åŠ è³¼ã€‘`;
                    if (confirm(confirmMessage)) {
                        const newDrinkName = currentOrder.drink.name === 'ç„¡' ? name : `${currentOrder.drink.name} + ${name}`;
                        currentOrder.drink = { name: newDrinkName, price: currentOrder.drink.price + aLaCartePrice, code: '' };
                        if (currentOrder.mainItem.name === 'æœªé¸æ“‡') currentOrder.mainItem = { name: 'ç„¡', price: 0, isSet: false, isMaxSet: false }; 
                    } else {
                        return;
                    }
                } else if (itemType === 'Dessert' || itemType === 'Sides' || itemType === 'Chicken_Side') {
                    confirmMessage += `\n\n[ç¢ºå®š/OK]ï¼šå°‡å…¶è¨­ç‚ºã€å–®é»åŠ è³¼/é…é¤ã€‘`;
                    
                    if (confirm(confirmMessage)) {
                         currentOrder.extraSides.push({ name: name, price: aLaCartePrice, code: itemCode || '' });
                         if (currentOrder.mainItem.name === 'æœªé¸æ“‡') currentOrder.mainItem = { name: 'ç„¡', price: 0, isSet: false, isMaxSet: false };
                    } else {
                        return;
                    }
                }
            } 
            // --- è™•ç† Happy Meals (V4.7 ä¿®æ­£) ---
            else if (itemType === 'HappyMeal' && setPrice !== null) {
                
                let mainItemPrompt = `
ã€${personName} - é¸æ“‡ Happy Mealã€‘\n
æ‚¨é¸æ“‡äº†: ${name} (HK$${setPrice.toFixed(2)})\n
è«‹æ³¨æ„ï¼šHappy Meal åŒ…å«ä¸€å€‹å…è²»é…é¤å’Œä¸€å€‹æŒ‡å®šé£²å“ã€‚\n
[ç¢ºå®š/OK]ï¼šå°‡å…¶è¨­ç‚ºã€${personName}ã€‘çš„ Happy Meal å¥—é¤ï¼Œä¸¦é€²å…¥é…é¤é¸æ“‡ã€‚
                `.trim();

                if (confirm(mainItemPrompt)) {
                    
                    // 1. æ¸…ç©ºä¸¦è¨­ç½®ä¸»é¤
                    currentOrder.mainItem = { name: `Happy Meal: ${name}`, price: setPrice, isSet: true, isMaxSet: false };
                    currentOrder.drink = { name: 'ç„¡', price: 0, code: '' }; 
                    currentOrder.sideItem = { name: 'ç„¡', price: 0, code: '' }; 
                    currentOrder.extraSides = [];
                    
                    // 2. èª¿ç”¨é…é¤é¸æ“‡æµç¨‹ (ä½¿ç”¨æ¨™æº–è–¯æ¢ M ä½œç‚ºé è¨­)
                    const sideItemDefaultName = 'æ¨™æº–è–¯æ¢ M';
                    const sideItemDefaultCode = 'Fries_M';
                    
                    // å‚³é isHappyMeal = trueï¼Œè®“ selectSide å®Œæˆå¾Œä¸è‡ªå‹•é€²å…¥ selectDrink
                    selectSide(index, sideItemDefaultName, sideItemDefaultCode, true); 
                    
                    return; // selectSide æœƒè² è²¬èª¿ç”¨ renderOrders
                }
            } 
            // --- è™•ç†ä¸€èˆ¬ä¸»é¤ (Burger/Chicken_Set_Main/Salad/Muffin) ---
            else if (isMainItemCategory) {
                
                let choice; 
                let choiceNum;

                const alacarteDisplay = aLaCartePrice !== null ? `1. å–®é» (A): HK$${aLaCartePrice.toFixed(2)}` : '';
                const setDisplay = isSetAvailable ? `2. å¥—é¤ (Set): HK$${setPrice.toFixed(2)}` : '';
                const maxSetDisplay = isSetAvailable ? `3. åŠ å¤§å¥—é¤ (MaxSet): HK$${(setPrice + MAX_SET_COST).toFixed(2)}` : '';
                
                let mainItemPrompt = `
ã€${personName} - é¸æ“‡ä¸»é¤é¡å‹ã€‘\n
æ‚¨é¸æ“‡äº†: ${name}\n
${alacarteDisplay}\n
${setDisplay}\n
${maxSetDisplay}\n
è«‹è¼¸å…¥å°æ‡‰çš„æ•¸å­— (1, 2, æˆ– 3)ï¼š
                `.trim();

                while (true) {
                    choice = prompt(mainItemPrompt);
                    if (choice === null) return; // æŒ‰äº†å–æ¶ˆ
                    
                    choiceNum = parseInt(choice.trim());
                    
                    if (choiceNum === 1 && aLaCartePrice !== null) {
                        choice = 'A'; break;
                    } else if (choiceNum === 2 && isSetAvailable) {
                        choice = 'Set'; break;
                    } else if (choiceNum === 3 && isSetAvailable) {
                        choice = 'MaxSet'; break;
                    } else if (!isSetAvailable && choiceNum === 1 && aLaCartePrice !== null) {
                        choice = 'A'; break; // åªæœ‰å–®é»æ™‚ï¼Œ1 ä»ç„¶æœ‰æ•ˆ
                    }
                    
                    alert('è¼¸å…¥éŒ¯èª¤ï¼Œè«‹è¼¸å…¥ 1, 2, æˆ– 3 (å¦‚æœå¥—é¤é¸é …ä¸å­˜åœ¨ï¼Œåªèƒ½é¸ 1)ã€‚');
                }
                
                let finalMainPrice;
                let isSet = false;
                let isMaxSet = false;

                if (choice === 'Set') {
                    finalMainPrice = setPrice;
                    isSet = true;
                } else if (choice === 'MaxSet') {
                    finalMainPrice = setPrice + MAX_SET_COST;
                    isMaxSet = true;
                } else { // 'A'
                    finalMainPrice = aLaCartePrice;
                }

                // æ¸…ç©ºä¸¦è¨­ç½®ä¸»é¤
                currentOrder.mainItem = { name: name, price: finalMainPrice, isSet: isSet, isMaxSet: isMaxSet };
                currentOrder.drink = { name: 'ç„¡', price: 0, code: '' }; 
                currentOrder.sideItem = { name: 'ç„¡', price: 0, code: '' }; 
                currentOrder.extraSides = [];
                
                if (isSet || isMaxSet) {
                    
                    const sideItemDefaultCode = isMaxSet ? 'Fries_L' : 'Fries_M';
                    const sideItemDefaultName = isMaxSet ? 'å¤§è–¯æ¢ L' : 'æ¨™æº–è–¯æ¢ M';
                    
                    // 1. é…é¤æ›¿æ›/å‡ç´š/åŠ è³¼ (æ•¸å­—åŒ–æµç¨‹)
                    // ä¸€èˆ¬å¥—é¤ï¼šisHappyMeal = false (æˆ–ä¸å‚³é)
                    selectSide(index, sideItemDefaultName, sideItemDefaultCode);

                    // 2. é£²å“å‡ç´š/åŠ è³¼ (selectSide æœƒè‡ªå‹•èª¿ç”¨ selectDrink)
                    
                    return; // selectSide æœƒè² è²¬èª¿ç”¨ renderOrders
                }
            }
            
            // å¦‚æœæ˜¯å–®é»æˆ–å–®é»åŠ è³¼
            renderOrders();
        }

        // V4.6 æ–°å¢: å¥—é¤è½‰å–®é»åŠŸèƒ½
        function switchToALaCarte(index) {
            const order = orders[index];
            // è™•ç† Happy Meal çš„åç¨±ï¼Œä»¥ä¾¿åœ¨èœå–®æ•¸æ“šä¸­æ‰¾åˆ°åŸå§‹æ¢ç›®
            const mainItemSearchName = order.mainItem.name.replace('Happy Meal: ', ''); 
            const details = getMenuItemDetails(mainItemSearchName);
            
            if (!details || details.aLaCarte === null) {
                alert(`${order.mainItem.name} æ²’æœ‰å–®é»åƒ¹æ ¼ï¼Œç„¡æ³•è®Šæ›´ç‚ºå–®é»ã€‚`);
                return;
            }

            if (!confirm(`ç¢ºå®šè¦å°‡ã€${order.personName} - ${order.mainItem.name}ã€‘è®Šæ›´ç‚ºå–®é»å—ï¼Ÿæ‰€æœ‰é…é¤å’Œé£²å“å°‡æœƒè¢«æ¸…é™¤ï¼`)) {
                return;
            }

            // åŸ·è¡Œè½‰æ›
            order.mainItem.name = mainItemSearchName; // æ¢å¾©åŸå§‹åç¨±
            order.mainItem.price = details.aLaCarte;
            order.mainItem.isSet = false;
            order.mainItem.isMaxSet = false;

            // æ¸…ç©ºå¥—é¤ç›¸é—œçš„æ‰€æœ‰é …ç›®
            order.sideItem = { name: 'ç„¡', price: 0, code: '' };
            order.drink = { name: 'ç„¡', price: 0, code: '' };
            order.extraSides = [];

            renderOrders();
            alert(`ã€${order.personName} - ${mainItemSearchName}ã€‘å·²æˆåŠŸè®Šæ›´ç‚ºå–®é» (HK$${details.aLaCarte.toFixed(2)})ã€‚`);
        }

        // V4.1 ä¿®è¨‚: æ•¸å­—åŒ–é£²å“å‡ç´š/åŠ è³¼æµç¨‹
        function selectDrink(index) {
            const currentOrder = orders[index];
            const personName = currentOrder.personName;
            const isSet = currentOrder.mainItem.isSet || currentOrder.mainItem.isMaxSet;
            
            if (!isSet) return; // ç¢ºä¿åªåœ¨å¥—é¤æ¨¡å¼ä¸‹é‹è¡Œ
            
            let continueAdding = true;

            while (continueAdding) {
                
                // V4.1: æª¢æŸ¥æ˜¯å¦å·²é¸æ“‡åŸºæœ¬é£²å“
                let baseDrinkSelected = currentOrder.drink.name !== 'ç„¡';
                let baseDrinkPrompt = baseDrinkSelected ? 
                    `ç›®å‰é£²å“: ${currentOrder.drink.name} (å‡ç´šè²»ç”¨: +HK$${currentOrder.drink.price.toFixed(2)})` :
                    `ç›®å‰æœªé¸æ“‡åŸºæœ¬é£²å“ (å…è²»)ã€‚`;

                // éšæ®µä¸€ï¼šé¸æ“‡é£²å“é¡åˆ¥
                let categoryPrompt = `ã€${personName} - é£²å“é¸æ“‡/å‡ç´š/åŠ è³¼ã€‘\n\n${baseDrinkPrompt}\n\n`;
                
                if (!baseDrinkSelected) {
                     categoryPrompt += `**è«‹å‹™å¿…å…ˆé¸æ“‡ä¸€å€‹å…è²»çš„åŸºæœ¬é£²å“ (å¦‚å¯å£å¯æ¨‚)ï¼Œæˆ–æŒ‰ 'Y' è·³é**\n\n`;
                }

                DRINK_CATEGORIES.forEach((cat, idx) => {
                    categoryPrompt += `${idx + 1}. ${cat.name}\n`;
                });
                categoryPrompt += `\nè«‹è¼¸å…¥é¡åˆ¥ç·¨è™Ÿ (æˆ–è¼¸å…¥ Y çµæŸæœ¬æ¬¡æ“ä½œ)ï¼š`;
                
                let categoryInput = prompt(categoryPrompt);
                
                // V4.1: å…è¨± Y çµæŸï¼Œå³ä½¿æœªé¸æ“‡ä»»ä½•é£²å“
                if (categoryInput === null || categoryInput.toUpperCase() === 'Y') {
                    continueAdding = false;
                    break;
                }
                
                let categoryIndex = parseInt(categoryInput) - 1;
                
                if (isNaN(categoryIndex) || categoryIndex < 0 || categoryIndex >= DRINK_CATEGORIES.length) {
                    alert('é¡åˆ¥ç·¨è™Ÿç„¡æ•ˆï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚');
                    continue;
                }

                const selectedCategory = DRINK_CATEGORIES[categoryIndex];
                
                // éšæ®µäºŒï¼šé¸æ“‡å…·é«”é£²å“
                let itemPrompt = `ã€${personName} - é¸æ“‡ ${selectedCategory.name}ã€‘\n\n`;
                selectedCategory.items.forEach((item, idx) => {
                    itemPrompt += `${idx + 1}. ${item.name} (å–®é»: HK$${item.aLaCarte.toFixed(2)})\n`;
                });
                itemPrompt += `\nè«‹è¼¸å…¥é£²å“ç·¨è™Ÿ (æˆ–è¼¸å…¥ R è¿”å›ä¸Šç´š)ï¼š`;
                
                let itemInput = prompt(itemPrompt);
                if (itemInput === null) return; 
                if (itemInput.toUpperCase() === 'R') continue;

                let itemIndex = parseInt(itemInput) - 1;

                if (isNaN(itemIndex) || itemIndex < 0 || itemIndex >= selectedCategory.items.length) {
                    alert('é£²å“ç·¨è™Ÿç„¡æ•ˆï¼Œè«‹è¿”å›ä¸Šç´šã€‚');
                    continue;
                }
                
                const selectedItem = selectedCategory.items[itemIndex];

                // è™•ç†å‡ç´šé‚è¼¯
                let finalCost = 0; 
                let standardValue = STANDARD_DRINK_VALUE; 
                finalCost = selectedItem.aLaCarte - standardValue;
                if (finalCost < 0) finalCost = 0;
                
                // V4.1: æª¢æŸ¥æ˜¯å¦ç‚ºé¦–æ¬¡è¨­å®šå¥—é¤å…è²»é£²å“
                if (!baseDrinkSelected) {
                    // é¦–æ¬¡é¸æ“‡ï¼šå°‡å…¶è¨­ç‚ºå…è²»åŸºç¤é£²å“ (åªéœ€æ”¯ä»˜å‡ç´šè²»ç”¨)
                    currentOrder.drink = { name: selectedItem.name, price: finalCost, code: selectedItem.code };
                    alert(`æˆåŠŸè¨­å®šåŸºæœ¬é£²å“ ${selectedItem.name}ã€‚æœ¬æ¬¡å‡ç´šè²»ç”¨: +HK$${finalCost.toFixed(2)}ã€‚`);
                    // é¦–æ¬¡é¸æ“‡å¾Œï¼Œå¼·åˆ¶é€€å‡º loopï¼Œå› ç‚ºåŸºæœ¬é£²å“å·²å®šã€‚å¦‚æœéœ€è¦é¡å¤–åŠ è³¼ï¼Œç”¨æˆ¶éœ€è¦å†æ¬¡é»æ“Šèœå–®ã€‚
                    continueAdding = false;
                } else {
                    // å¾ŒçºŒåŠ è³¼ï¼šæŒ‰å–®é»åƒ¹åŠ åˆ°ç¸½åƒ¹ä¸­
                    currentOrder.drink.name += ` + ${selectedItem.name}`;
                    currentOrder.drink.price += selectedItem.aLaCarte; 
                    alert(`æˆåŠŸåŠ è³¼ ${selectedItem.name}ã€‚æœ¬æ¬¡åŠ è³¼è²»ç”¨: +HK$${selectedItem.aLaCarte.toFixed(2)}ã€‚`);
                }
            }
            renderOrders();
        }

        // V4.7 ä¿®æ­£: å¢åŠ  isHappyMeal åƒæ•¸ï¼ŒHappy Meal æµç¨‹å®Œæˆå¾Œä¸å†è‡ªå‹•é€²å…¥ selectDrink
        function selectSide(index, defaultName, defaultCode, isHappyMeal = false) {
            const currentOrder = orders[index];
            const personName = currentOrder.personName;
            const isSet = currentOrder.mainItem.isSet || currentOrder.mainItem.isMaxSet;

            if (!isSet) return; 
            
            // V4.5: æª¢æŸ¥ä¸¦é¡¯ç¤ºç•¶å‰é…é¤ç‹€æ…‹
            let baseSideSelected = currentOrder.sideItem.name !== 'ç„¡';
            let currentSideDisplay = baseSideSelected ? currentOrder.sideItem.name : defaultName;
            const currentUpgradeFee = isNaN(currentOrder.sideItem.price) ? 0.00 : currentOrder.sideItem.price;

            // éšæ®µä¸€ï¼šå¥—é¤é…é¤æ›¿æ› (è–¯æ¢ vs ç²Ÿç±³æ¯)
            let sideChoice;

            const sideMessage = `
ã€${personName} - å¥—é¤é…é¤é¸æ“‡/æ›¿æ›ã€‘\n
å¥—é¤å·²åŒ…å«ä¸€å€‹**å…è²»é…é¤**ã€‚
ç›®å‰é¸æ“‡: ${currentSideDisplay} (å‡ç´šè²»: +HK$${currentUpgradeFee.toFixed(2)})

è«‹é¸æ“‡æ“ä½œï¼š\n
1. ç¢ºèª ${defaultName} ä½œç‚ºé…é¤ï¼Œä¸¦é€²å…¥ã€å‡ç´š/åŠ è³¼ã€‘æµç¨‹ã€‚\n
2. æ›¿æ›ç‚º ç²’ç²’ç²Ÿç±³æ¯ (å…è²»ï¼Œä¸¦é€²å…¥ã€åŠ è³¼ã€‘æµç¨‹)ã€‚\n
3. å–æ¶ˆ (ä¸é€²è¡Œä»»ä½•é…é¤æ›¿æ›/å‡ç´š/åŠ è³¼)
            `.trim();
            
            while (true) {
                sideChoice = prompt(sideMessage);
                if (sideChoice === null || sideChoice.toUpperCase() === '3' || sideChoice.toUpperCase() === 'C') {
                    // å¦‚æœ Happy Meal åœ¨é€™è£å–æ¶ˆï¼Œä»ç„¶éœ€è¦æ¸²æŸ“ä¸€æ¬¡
                    if (isHappyMeal) renderOrders(); 
                    return;
                }
                
                const choiceNum = parseInt(sideChoice.trim());
                
                if (choiceNum === 2) {
                    // æ›¿æ›ç‚ºç²Ÿç±³æ¯ (å…è²»)
                    currentOrder.sideItem = { name: 'ç²’ç²’ç²Ÿç±³æ¯', price: 0.00, code: 'Corn' }; 
                    alert(`${personName} çš„é…é¤å·²æ›¿æ›ç‚º ç²’ç²’ç²Ÿç±³æ¯ (å…è²»)ã€‚å³å°‡é€²å…¥åŠ è³¼æµç¨‹...`);
                    baseSideSelected = true;
                    break; 
                } else if (choiceNum === 1) {
                    // é¸æ“‡è–¯æ¢/é€²å…¥å‡ç´šåŠ è³¼æµç¨‹
                    
                    // V4.1: å¦‚æœæœªé¸æ“‡ï¼Œå‰‡å°‡å…¶è¨­å®šç‚ºé è¨­è–¯æ¢
                    if (!baseSideSelected) {
                        currentOrder.sideItem = { name: defaultName, price: 0, code: defaultCode };
                        baseSideSelected = true;
                    }
                    
                    break;
                } else {
                    alert('è¼¸å…¥éŒ¯èª¤ï¼Œè«‹è¼¸å…¥ 1, 2, æˆ– 3ã€‚');
                }
            }

            // --- éšæ®µäºŒï¼šå‡ç´š/é¡å¤–åŠ è³¼ (åªæœ‰åœ¨é¸æ“‡äº†åŸºæœ¬é…é¤å¾Œæ‰èƒ½é€²è¡Œå‡ç´š) ---
            
            if (!baseSideSelected) {
                // å¦‚æœç”¨æˆ¶åœ¨ç¬¬ä¸€éšæ®µæ²’æœ‰é¸æ“‡ 1 æˆ– 2ï¼Œé€™è£¡æœƒè·³éåŠ è³¼
                if (isHappyMeal) renderOrders();
                return;
            }
            
            let continueAdding = true;

            while (continueAdding) {
                let upgradePrompt = `ã€${personName} - é…é¤å‡ç´š/åŠ è³¼ã€‘\n\n`;
                upgradePrompt += `å¥—é¤ä¸»é…é¤: ${currentOrder.sideItem.name} (å‡ç´šè²»: +HK$${currentOrder.sideItem.price.toFixed(2)})`;
                if (currentOrder.extraSides.length > 0) {
                    upgradePrompt += `\né¡å¤–åŠ è³¼: ${currentOrder.extraSides.map(s => s.name).join(', ')}`;
                }
                
                // 1. è–¯æ¢å‡ç´š
                let friesCost;
                
                if (currentOrder.sideItem.code === 'Fries_M') {
                    friesCost = LARGE_SIDE_VALUE - STANDARD_SIDE_VALUE; // 5.00
                } else if (currentOrder.sideItem.code === 'Corn') {
                    friesCost = LARGE_SIDE_VALUE - CORN_PRICE_VALUE; // 5.00
                } else {
                    friesCost = 0.00; // Fries_L æˆ–éè–¯æ¢/ç²Ÿç±³æ¯
                }
                
                if (friesCost < 0) friesCost = 0.00;
                
                upgradePrompt += `\n\nè«‹é¸æ“‡å‡ç´š/åŠ è³¼é¡åˆ¥ï¼š\n`;
                
                // é¡¯ç¤ºè–¯æ¢å‡ç´šé¸é … (ç·¨è™Ÿ 1)
                const isFriesUpgradeAvailable = (currentOrder.sideItem.code === 'Fries_M' || currentOrder.sideItem.code === 'Corn');
                if (isFriesUpgradeAvailable) {
                    upgradePrompt += `1. è–¯æ¢å‡ç´šè‡³ L (è²»ç”¨: +HK$${friesCost.toFixed(2)})\n`;
                }

                // é¡¯ç¤ºå…¶ä»–åŠ è³¼é¸é …
                SIDE_CATEGORIES.forEach((cat, idx) => {
                    // æ•¸å­—å¾ 2 æˆ– 1 é–‹å§‹ï¼Œå–æ±ºæ–¼è–¯æ¢å‡ç´šæ˜¯å¦å¯é¸
                    let num = isFriesUpgradeAvailable ? idx + 2 : idx + 1;
                    upgradePrompt += `${num}. ${cat.name}\n`;
                });
                upgradePrompt += `\nè«‹è¼¸å…¥ç·¨è™Ÿ (æˆ–è¼¸å…¥ Y çµæŸæœ¬æ¬¡åŠ è³¼)ï¼š`;

                let upgradeInput = prompt(upgradePrompt);
                if (upgradeInput === null) return; 
                if (upgradeInput.toUpperCase() === 'Y') {
                    continueAdding = false;
                    break;
                }

                let upgradeNum = parseInt(upgradeInput);
                
                
                if (isFriesUpgradeAvailable && upgradeNum === 1) {
                    // è–¯æ¢å‡ç´šè‡³ L
                    
                    let baseValue = currentOrder.sideItem.code === 'Corn' ? CORN_PRICE_VALUE : STANDARD_SIDE_VALUE;
                    let finalPrice = LARGE_SIDE_VALUE - baseValue;
                    if (finalPrice < 0) finalPrice = 0.00;
                    
                    currentOrder.sideItem = { name: 'å¤§è–¯æ¢ L', price: finalPrice, code: 'Fries_L' };
                    alert(`é…é¤å·²å‡ç´šè‡³ å¤§è–¯æ¢ Lã€‚å‡ç´šè²»ç”¨: +HK$${finalPrice.toFixed(2)}ã€‚`);
                    
                } else if (upgradeNum >= (isFriesUpgradeAvailable ? 2 : 1) && upgradeNum <= SIDE_CATEGORIES.length + (isFriesUpgradeAvailable ? 1 : 0)) {
                    // é¡å¤–åŠ è³¼é¡åˆ¥
                    const categoryIndex = isFriesUpgradeAvailable ? upgradeNum - 2 : upgradeNum - 1;
                    const selectedCategory = SIDE_CATEGORIES[categoryIndex];
                    
                    let itemPrompt = `ã€${personName} - é¸æ“‡åŠ è³¼ ${selectedCategory.name}ã€‘\n\n`;
                    selectedCategory.items.forEach((item, idx) => {
                         let priceDisplay = item.price ? `(HK$${item.price.toFixed(2)})` : '';
                         itemPrompt += `${idx + 1}. ${item.name} ${priceDisplay}\n`;
                    });
                    itemPrompt += `\nè«‹è¼¸å…¥ç·¨è™Ÿ (æˆ–è¼¸å…¥ R è¿”å›ä¸Šç´š)ï¼š`;
                    
                    let itemInput = prompt(itemPrompt);
                    if (itemInput === null) return;
                    if (itemInput.toUpperCase() === 'R') continue;

                    let itemIndex = parseInt(itemInput) - 1;
                    
                    if (isNaN(itemIndex) || itemIndex < 0 || itemIndex >= selectedCategory.items.length) {
                         alert('ç·¨è™Ÿç„¡æ•ˆï¼Œè«‹è¿”å›ä¸Šç´šã€‚');
                         continue;
                    }
                    
                    const selectedItem = selectedCategory.items[itemIndex];
                    if (selectedItem.price === undefined) {
                        alert(`${selectedItem.name} åƒ¹æ ¼æ•¸æ“šç¼ºå¤±æˆ–éœ€è¦æ‰‹å‹•èª¿æ•´åç¨±ã€‚`);
                        continue;
                    }
                    
                    // åŸ·è¡ŒåŠ è³¼
                    currentOrder.extraSides.push({ name: selectedItem.name, price: selectedItem.price, code: selectedItem.code });
                    alert(`æˆåŠŸåŠ è³¼ ${selectedItem.name}ã€‚è²»ç”¨: +HK$${selectedItem.price.toFixed(2)}ã€‚`);

                } else {
                    alert('è¼¸å…¥éŒ¯èª¤ï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚');
                }
            }
            
            // V4.7 ä¿®æ­£: Happy Meal æµç¨‹åˆ°æ­¤çµæŸ
            if (isHappyMeal) {
                renderOrders();
                alert(`Happy Meal é…é¤é¸æ“‡å·²å®Œæˆã€‚è«‹æ³¨æ„ï¼Œé£²å“é¸æ“‡åŠŸèƒ½å°‡åœ¨ä¸‹ä¸€å€‹ç‰ˆæœ¬é–‹æ”¾ã€‚`);
                return;
            }
            
            // --- ä¸€èˆ¬å¥—é¤é€²å…¥é£²å“æµç¨‹ (åŸé‚è¼¯) ---
            selectDrink(index);
        }
        
        function clearOrder(index) {
            const personName = orders[index].personName; 
            
            if (confirm(`ç¢ºå®šè¦æ¸…ç©º ${personName} çš„æ‰€æœ‰è¨‚é¤å…§å®¹å—ï¼Ÿ`)) {
                orders[index] = createNewOrder(personName);
                renderOrders();
            }
        }
        
        function deleteOrder(index) {
            if (index < INITIAL_NAMES.length) {
                alert("æ­¤ç‚ºå›ºå®šè¨‚é¤äººï¼Œä¸èƒ½åˆªé™¤ï¼Œåªèƒ½æ¸…ç©ºã€‚");
                return;
            }
            if (confirm(`ç¢ºå®šè¦åˆªé™¤ ${orders[index].personName} çš„è¨‚å–®å—ï¼Ÿ`)) {
                orders.splice(index, 1);
                
                document.getElementById('person-select').value = 0; 

                renderPersonSelect();
                renderOrders();
            }
        }


        function calculateTotal() {
            const totalPriceSpan = document.getElementById('total-price');
            
            const grandTotal = orders.reduce((sum, order) => {
                let extraSidesTotal = order.extraSides.reduce((esSum, item) => esSum + item.price, 0);
                const subtotal = order.mainItem.price + order.sideItem.price + order.drink.price + extraSidesTotal;
                return sum + subtotal;
            }, 0);

            totalPriceSpan.textContent = `HK$ ${grandTotal.toFixed(2)}`;
        }

        function saveOrdersToStorage() {
            try {
                const dataToSave = {
                    orders: orders,
                };
                localStorage.setItem('mcdonaldsGroupOrder', JSON.stringify(dataToSave));
            } catch (e) {
                // å¦‚æœ localStorage å­˜å„²å¤±æ•— (å¦‚éš±èº«æ¨¡å¼)ï¼Œæ•ç²éŒ¯èª¤ä½†ç¨‹åºç¹¼çºŒé‹è¡Œ
                console.warn("ç„¡æ³•å„²å­˜è¨‚å–®åˆ° localStorage:", e);
            }
        }

        // V4.4 å¥å£¯æ€§ä¿®æ­£: å¢åŠ  try...catch è™•ç† localStorage è®€å–éŒ¯èª¤
        function loadOrdersFromStorage() {
            const savedData = localStorage.getItem('mcdonaldsGroupOrder');
            
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    orders = data.orders || [];
                    
                    if (orders.length < INITIAL_NAMES.length) throw new Error("Saved orders too short.");
                    
                    orders.forEach(order => {
                        if (!order.extraSides) order.extraSides = [];
                        if (!order.drink) order.drink = { name: 'ç„¡', price: 0, code: '' }; 
                        if (!order.sideItem) order.sideItem = { name: 'ç„¡', price: 0, code: '' };
                        if (order.mainItem && order.mainItem.isMaxSet === undefined) order.mainItem.isMaxSet = false; 
                        
                         // æ•¸æ“šå…¼å®¹æ€§æª¢æŸ¥ (å¾èˆŠç‰ˆæœ¬ 'Corn_Cup' è½‰æ›ç‚º 'Corn')
                         if (order.sideItem.code === 'Corn_Cup') {
                            order.sideItem.code = 'Corn';
                            order.sideItem.name = 'ç²’ç²’ç²Ÿç±³æ¯';
                         }
                        
                        // è™•ç†èˆŠç‰ˆæ•¸æ“šä¸­å°‡å–®é»åŠ å…¥ sideItem çš„æƒ…æ³
                        if (order.mainItem.name === 'ç„¡' && order.sideItem.price > 0 && order.sideItem.name !== 'ç„¡' && order.extraSides.length === 0) {
                            const sideItemNameBefore = order.sideItem.name;
                            const sideItemPriceBefore = order.sideItem.price;

                            if (sideItemNameBefore.includes('+')) {
                                sideItemNameBefore.split(' + ').forEach(name => {
                                    order.extraSides.push({ name: name.trim(), price: 0, code: '' }); 
                                });
                                order.extraSides[0].price = sideItemPriceBefore; 
                            } else {
                                order.extraSides.push({ name: sideItemNameBefore, price: sideItemPriceBefore, code: '' });
                            }
                            order.sideItem = { name: 'ç„¡', price: 0, code: '' }; 
                        }
                        
                        // ä¿®æ­£ Happy Meal åç¨±ï¼Œç¢ºä¿è½‰å–®é»åŠŸèƒ½é©ç”¨
                        if (order.mainItem.name.startsWith('Happy Meal: ') && order.mainItem.isSet === false) {
                            order.mainItem.name = order.mainItem.name.replace('Happy Meal: ', '');
                        }
                    });
                    
                    for(let i = 0; i < INITIAL_NAMES.length; i++) {
                        if (orders[i]) {
                             orders[i].personName = INITIAL_NAMES[i];
                        }
                    }
                    
                    return;
                } catch (e) {
                    console.error("è¼‰å…¥è¨‚å–®å¤±æ•—æˆ–æ•¸æ“šæå£ï¼Œå°‡é‡æ–°åˆå§‹åŒ–ã€‚", e);
                }
            }
            
            orders = INITIAL_NAMES.map(name => createNewOrder(name));
        }

        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>